<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AR Menu experience</title>
    <script src="https://cdn.jsdelivr.net/npm/mrjs@latest/dist/mr.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"/>
</head>

<body>

    <mr-app id="app">
        <mr-light color="white" intensity="2" data-position="0 0 0.5"></mr-light>

        <mr-entity data-comp-anchor="type: plane; label:table;">
       
            <mr-panel id="panel" class="stack">

                <mr-div class="nav">
                    
            <mr-button style="margin-left: 10px;" onclick="App.prev()"> Prev </mr-button>
            <mr-button style="margin-left: 10px;" onclick="App.next()"> Next </mr-button>
            <mr-button class="button-order" style="margin-left:10px">Order Now</mr-button>


                </mr-div>

                <mr-div class="illustration">
                    <mr-div id="models" style="z-index: 100"></mr-div>
                </mr-div>

                <mr-div class="information">
                    <mr-div class="tight-stack">
                        <mr-text id="name">loading</mr-text>
                        <mr-text id="cuisine">loading</mr-text>
                    </mr-div>
                    <mr-text id="desc">loading</mr-text>
                    </mr-div>

            </mr-panel>
        </mr-entity>


    </mr-app>

</body>

       <script>
    /*********** begin: mr-food entity ***********/

    class MRFood extends MREntity {

    customElements.define('mr-food', MRFood);


    /*********** end: mr-food entity ***********/

    /*********** start: mr.js app code ***********/


    let panel = document.getElementById('panel')
    let xrButton = document.getElementById('xr-button')

    volume.object3D.visible = false

    let worldPosition = new THREE.Vector3()

    function toggleMR() {
        if (!mrjsUtils.xr.isPresenting) {
            return
        }
        volume.object3D.visible = !volume.object3D.visible
    }

    let mrfood = document.getElementById('mrfood')

    document.addEventListener('anchored', (e) => {

        if (e.target == food.parentElement && e.target.plane) {
            let width = e.target.plane.dimensions.x - 0.01
            let depth = e.target.plane.dimensions.z - 0.01
            let height = width > depth ? width : depth
            height /= 2
            mrfood.mesh.geometry.copy(new THREE.BoxGeometry(width, height, depth))
        }
    })

    document.addEventListener('exitXR', (e) => {
        volume.object3D.visible = false
    })
   </script>

    
    <script src="script.js"></script>
</html>
